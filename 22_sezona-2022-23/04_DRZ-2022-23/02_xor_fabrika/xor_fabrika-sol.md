---
title: Опклада - опис решења
---

## Опклада

Аутор: Павле Мартиновић 
Текст: и тест примери: Марко Шишовић
Анализа решења: Павле Мартиновић
Тестирање: Игор Павловић

###  Решење када су све операције +
У овом подзадатку важи да је свака операција $+1$, тако да ће све што ће се десити $+1$ тачно $R-L+1$ пута, односно потребно је исписати $X+R-L+1$
###  $N,Q\leq 2000$
У овом подзадатку напросто можемо да идемо редом за сваки упит и изсимулирамо све операције за сложеност $O(NQ)$
### Решење када су све операције ^
У овом подзадатку решавамо слично као први подзадатак. Приметимо да свака операција број ксорује са $1$, а два ксора се поништавају, тако да је битна само парност $R-L+1$: ако је парно онда испишемо $X$, а у супротном $X\text{ xor }1$.
### Решење када има највише $500$ операицја ^
Поделимо наш интервал на (највише $500$) интервала са свим операцијама +. Сваки од њих симулирамо по првом подзадатку, и онда само применимо по једну операцију ^. Сложеност $O(500Q)$
### Решење без додатних ограничења
Приметимо да нам се у сваком потезу заправо мења парност. Тако да ће свака операција бити $+1$ осим неких ^ операција која ће бити $-1$ ако је тада број на ком вршимо иницијалне потезе непаран. Међутим, оно што треба приметити да нам је онда само потребан број ^ на местима одређене парности  (та одређена парност зависи од $L$ и $X$: ако је $X$ парно онда исте парност као $L$ нам треба, а у супротном супротна парност). Зато је довољно само запамтити два низа парцијалних сума: за парне и непарне позиције број операција ^, и онда класичним одузимањем десног краја од левог нађемо колико их је у интервалу. Сложеност $O(N+Q)$ 
