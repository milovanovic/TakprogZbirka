---
title: Санте
timelimit: 1.0 # у секундама
memlimit: 64   # y MB
owner: takprog # власник је онај ко ради на задатку
origin: # опционо (ако се зна одакле је задатак преузет, пожељно је навести извор)
tags: [] # сваки задатак може бити означен према унапред договореној листи ознака
status: KOMPLETAN # један од: "IZRADA", "PREGLED" или "KOMPLETAN".
status-date: 2024-08-15 # датум у формату YYYY-MM-DD од када је задатак у наведеном статусу
crafted-dir: testcases
solutions:
  - name: ex0
    lang: [cpp]
    desc: ""
    tags: []
---

Мали Мика се налази на Северном полу и стоји на једној од многобројних санти леда.
Он жели да дође до свог пријатеља Лазе који се налази на другој санти. Између неких парова санти се налази вода
која је или у потпуности течна, или пуна малих комада леда (тешко је проћи кроз њу). Мика има машину која уништава мале комаде леда
(само њих, не и санте), и она је **на почетку угашена**, а он може да је пали и гаси произвољан број пута.<br><br>
Све док је машина упаљена, он може прећи пут између две санте који има комадиће леда
(који се након његовог проласка мистериозно врате), а не сме да прелази пут који нема (јер би се машина покварила),
те је мора угасити за овакав пут (и не треба да је пали док не дође поново до неког пута са ледом).<br><br>
Потребно је наћи начин да Мика дође до Лазе тако да **најмањи број пута мења стање** своје машине (*напомена: машина може бити у било ком стању када Мика дође до Лазине санте*).<br><br>

## Опис улаза
У првој линији дати су број санти $N$, број путева између санти $M$ (ако не постоји пут између неке две санте сматрамо да
је превише непроходан и да Мика не може директно доћи од једне до друге).<br><br>
Затим је дато $M$ линија где су $a$, $b$, и $t$ раздвојени размаком, ови бројеви
значе да постоји пут између $a$-те санте и $b$-те санте, док број $t$ представља тип пута - $1$ ако је пун леда, а $0$ ако није.<br><br>
На крају се учитавају два броја $u,v$ која представљају редни број санте где се налазе Мика и Лаза (редом).<br><br>

## Опис излаза
На стандардном излазу исписати један број - најмањи могући број промена стања машине. **Уколико не постоји начин да Мика дође до Лазе, исписати -1.**<br><br>

## Пример 1
#### Улаз
```
4 4
1 2 1
1 3 1
2 3 0
3 4 0
1 4
```

#### Излаз
```
2
```

#### Објашњење
Можемо отићи у санту 2 или 3 (што свакако захтева паљење машине), а касније или из 2 у 3 и даље у 4 (што захтева 1 гашење), или из 3 у 4 (што такође захтева гашење), и да тако променимо стање два пута.

## Пример 2
#### Улаз
```
7 6
1 2 0
1 3 1
2 4 1
3 5 0
5 6 1
6 7 0
1 7
```

#### Излаз
```
4
```

#### Објашњење
Једино смер посећивања $1-3-5-6-7$ нас доводи до санте број 7.

## Ограничења
- $N,M \leq 200000$,
- $1 \leq a,b,u,v \leq N$,
- $t = 0 \lor t = 1$<br>.
Тест примери су подељени у следећих 5 група:
- У тестовима вредним 10 поена - $M=N-1$, из сваке санте иде највише 2 пута<br>.
- У тестовима вредним 10 поена - сви путеви су тешко проходни<br>.
- У тестовима  вредним 25 поена - $M=N-1$ и од сваке санте се може доћи до сваке друге (коришћењем једног или више путева између две санте)<br>.
- У тестовима вредним 30 поена - $N,M \leq 5000$<br>
- У тестовима вредним 25 поена - нема додатних ограничења<br>
