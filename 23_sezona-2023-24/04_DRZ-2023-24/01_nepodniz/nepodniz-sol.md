---
title: Неподниз - опис решења
---

# Неподниз

Аутор: Александар Вишњић
Текст и тест примери: Александар Вишњић
Анализа решења: Младен Пузић
Тестирање: Драган Урошевић

## Решење када $N \leq 5, K = 2$
За сваки префикс, можемо пробати прво све могуће ниске дужине $1$, па све могуће ниске дужине $2$, итд. док не нађемо решење. 

Проверу за конкретну ниску $T$ можемо урадити тако што пролазимо слева надесно кроз префикс ниске $S$ и упарујемо редом карактере чим наиђемо на њих. Уколико смо пронашли све карактере (истим редом као у $T$), онда јесте подниз те ниске, у супротном није.

Временска сложеност је $O(K^N \cdot N^2)$, а меморијска $O(N)$.

## Решење када је ниска уређена лексикографски
Приметимо да уколико префикс ниске $S$ не садржи свих $K$ различитих карактера, одговор ће бити $1$ (ниска која се састоји само од карактера који се ту не налази). 

Пошто је ниска уређена лексикографски, постојаће неко $x$ тако да је првих $x$ одговора $1$ (јер још нису додати сви карактери), а осталих $N-x$ одговора биће 2 - нпр. ниска `ba`, која се свакако не појављује у нисци, пошто није уређена лексикографски.

Временска и меморијска сложеност је $O(N)$.

## Решење када $N \leq 1000$
Слично обзервацији из претходног подзадатка, оптимално је да први карактер нашег решења за неки префикс, буде карактер који се први пут појављује што касније - до тог карактера сви резултати биће $1$.

Приметимо да исто размишљање можемо да применимо поново. Тражимо карактер који се појављује што касније, не рачунајући до сада виђене карактере. Сви резултати до те позиције ће сад бити $2$. 

Ово размишљање настављамо да примењујемо док не одредимо све резултате.

Временска сложеност је $O(N^2)$, а меморијска $O(N)$.

## Главно решење
Решење за претходни подзадатак се може убрзати тако што ћемо чувати матрицу димензија $K \times N$, где за сваку позицију и сваки карактер чувамо када ће се следећи пут појавити. Ово можемо једноставно израчунати, кренувши уназад кроз ниску $S$ и памтећи кад смо последњи пут видели сваки од карактера.

Када попунимо ову матрицу, лако је убрзати претходно решење, бржим одабиром следећег карактера.

Временска и меморијска сложеност је $O(NK)$.
